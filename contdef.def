Bootstrap: library
From: debian:10

%post
	apt-get update
	apt-get install -y python3.9 python3-pip git
	python3 -m pip install "numpy==1.20.3"
	python3 -m pip install "scipy==1.6.3"
	mkdir $SINGULARITY_ROOTFS/Final_project 
 	cd $SINGULARITY_ROOTFS/Final_project
	git clone https://github.com/AlessandroArduino95/FinalProject.git && make
	NOW_VAR=`date`
	echo "export NOW_VAR=\"${NOW_VAR}\"" >> $SINGULARITY_ENVIRONMENT

%runscript
	echo "Container was created $NOW_VAR"
	python3 /Final_project/FinalProject/parabol_pde_solver.py 

%labels
	Author AlessandroArduino
	Version 1.0

%help
	Simple singularity container for my python script used in the final project of Avanced Topics.